<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>گزارش - تست Firebase</title>
</head>
<body style="background:#000;color:#fff;padding:20px;font-family:Arial">
  <h2>گزارش سفارشات (فقط از Firebase)</h2>
  <div id="out"></div>

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

  <script>
    const config = {
      apiKey: "AIzaSyBBGJfA74Ef1haXMbjoW12yYcVNuLcxGEA",
      authDomain: "toucan-restaurant-menu.firebaseapp.com",
      projectId: "toucan-restaurant-menu",
      storageBucket: "toucan-restaurant-menu.firebasestorage.app",
      messagingSenderId: "142624701803",
      appId: "1:142624701803:web:334bbbc313ce35edb6a02e"
    };
    firebase.initializeApp(config);
    const db = firebase.firestore();

    db.collection('orders')
      .orderBy('timestamp', 'desc')
      .limit(10)
      .onSnapshot(snap => {
        const out = document.getElementById('out');
        if (snap.empty) {
          out.innerHTML = '<p>هیچ سفارشی در Firebase وجود ندارد.</p>';
          return;
        }
        let html = '<ul>';
        snap.forEach(doc => {
          const d = doc.data();
          const time = d.timestamp ? d.timestamp.toDate().toLocaleString('fa-IR') : 'نامشخص';
          html += `<li>میز: ${d.table || '—'} | زمان: ${time} | جمع: ${d.subtotal || 0}</li>`;
        });
        html += '</ul>';
        out.innerHTML = html;
      }, err => {
        document.getElementById('out').innerHTML = `<p style="color:red
