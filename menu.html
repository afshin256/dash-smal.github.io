<!doctype html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>TOUCAN - Ù…Ù†Ùˆ</title>
  <link rel="stylesheet" href="assets/css/style.css">
  <style>
    /* Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ø¨Ø±Ø§ÛŒ Ú©Ø§Ø±Øªâ€ŒÙ‡Ø§ Ùˆ Ø´Ø¨Ú©Ù‡ */
    body { font-family: 'Segoe UI','Helvetica Neue',Tahoma,Arial; background:#0b0b0b; color:#eee; margin:0; padding:0 12px 80px 12px; }
    .header { padding:12px 0; display:flex; align-items:center; gap:12px; }
    .brand { display:flex; align-items:center; gap:10px; }
    .logo { width:44px;height:44px;border-radius:8px;background:#222;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:20px;color:#fff; }
    /* Ø´Ø¨Ú©Ù‡ ØºØ°Ø§Ù‡Ø§ */
    .food-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
      gap: 12px;
    }
    @media (max-width:768px) {
      .food-grid {
        grid-template-columns: 1fr;
        gap: 6px;
      }
      body { padding-bottom: 120px; }
    }
    /* Ú©Ø§Ø±Øª ØºØ°Ø§ */
    .food-card {
      background: #111;
      border-radius: 12px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      gap: 8px;
      padding: 2px;
      align-items: center;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
      position: relative;
    }
    /* ØªØµÙˆÛŒØ± ØºØ°Ø§ */
    .food-img {
      position: relative;
      width: 100%;
      aspect-ratio: 3 / 4;
      border-radius: 8px 8px 0 0;
      overflow: hidden;
      background: #222;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0;
      border: 1px solid #222;
    }
    @media (max-width: 768px) {
      .food-img {
        aspect-ratio: 16 / 9;
      }
    }
    @media (min-width: 769px) {
      .food-img {
        height: 200px;
      }
    }
    .food-img img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
      border-radius: inherit;
    }
    /* Ø¨Ø±Ú†Ø³Ø¨ ØªØ®ÙÛŒÙ */
    .discount-badge {
      position: absolute;
      bottom: 5px;
      right: 5px;
      background-color: #e63946;
      color: white;
      font-weight: bold;
      font-size: 12px;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 0 10px rgba(230, 57, 70, 0.5);
      animation: pulse 2s infinite ease-in-out;
      z-index: 1;
      pointer-events: none;
    }
    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
    @media (max-width: 768px) {
      .discount-badge {
        width: 35px;
        height: 35px;
        font-size: 11px;
        bottom: 4px;
        right: 4px;
      }
    }
    /* Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØºØ°Ø§ */
    .food-info {
      flex: 1;
      min-width: 0;
      width: 100%;
      padding: 8px 10px;
    }
    .food-info h3 {
      margin: 0 0 6px 0;
      font-size: 16px;
      line-height: 1.2;
      color: #fff;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .food-info p {
      margin: 0 0 6px 0;
      font-size: 13px;
      color: #bbb;
      white-space: normal;
      word-wrap: break-word;
    }
    /* ÙÙˆØªØ± */
    .food-footer {
      width: 100%;
      height: 40px;
      background-color: #111;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 10px;
      border-radius: 0 0 12px 12px;
    }
    /* Ù‚ÛŒÙ…Øª */
    .price {
      font-weight: 800;
      min-width: 90px;
      font-size: 14px;
      color: #ffb84d;
      text-align: right;
      direction: ltr;
      display: flex;
      flex-direction: column;
      align-items: flex-end;
      line-height: 1.1;
    }
    .price del {
      color: #999;
      font-size: 13px;
      text-decoration: line-through;
      order: 1;
    }
    .price .discounted {
      color: #e63946;
      font-size: 16px;
      font-weight: bold;
      order: 2;
    }
    .add-btn {
      background: #c62828;
      border: none;
      color: #fff;
      padding: 6px 8px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 700;
      font-size: 14px;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    /* Ø§ÙÚ©Øª Ú©Ø§Ø±Øª */
    .food-card:hover {
      transform: translateY(-10px) scale(1.05);
      animation: flame 1.5s infinite alternate ease-in-out;
      z-index: 10;
    }
    @keyframes flame {
      0% {
        box-shadow: 
          0 0 10px 5px rgba(255, 69, 0, 0.7),
          0 0 20px 10px rgba(255, 140, 0, 0.5),
          0 0 30px 15px rgba(255, 215, 0, 0.3);
      }
      33% {
        box-shadow: 
          0 0 15px 7px rgba(255, 69, 0, 0.8),
          0 0 25px 12px rgba(255, 140, 0, 0.6),
          0 0 35px 17px rgba(255, 215, 0, 0.4);
      }
      66% {
        box-shadow: 
          0 0 12px 6px rgba(255, 69, 0, 0.6),
          0 0 22px 11px rgba(255, 140, 0, 0.4),
          0 0 32px 16px rgba(255, 215, 0, 0.2);
      }
      100% {
        box-shadow: 
          0 0 10px 5px rgba(255, 69, 0, 0.7),
          0 0 20px 10px rgba(255, 140, 0, 0.5),
          0 0 30px 15px rgba(255, 215, 0, 0.3);
      }
    }
    /* Ø³Ø¨Ø¯ Ø®Ø±ÛŒØ¯ Ø´Ù†Ø§ÙˆØ± */
    .cart-floating {
      position: fixed;
      right: 12px;
      bottom: 12px;
      width: 360px;
      max-width: calc(100% - 24px);
      background: linear-gradient(180deg, rgba(10,10,10,0.95), rgba(12,12,12,0.95));
      color: #fff;
      padding: 14px 14px 44px 86px;
      border-radius: 12px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.6);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 1100;
      min-width: 280px;
      font-size: 13px;
    }
    .cart-list {
      max-height: 160px;
      overflow: auto;
      padding-right: 6px;
    }
    .cart-item {
      display: flex;
      gap: 8px;
      align-items: center;
      padding: 6px 0;
      border-bottom: 1px dashed rgba(255,255,255,0.04);
    }
    .cart-item .qty {
      font-weight: 800;
      width: 48px;
      text-align: center;
    }
    .cart-item button {
      background: transparent;
      border: 1px solid rgba(255,255,255,0.06);
      color: #fff;
      padding: 4px 6px;
      border-radius: 6px;
      cursor: pointer;
    }
    .cart-actions {
      display: flex;
      gap: 8px;
      align-items: center;
      justify-content: flex-end;
    }
    .send-btn {
      background: #0ea5b7;
      border: none;
      color: #fff;
      padding: 8px 10px;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 800;
    }
    .send-btn[style] {}
    /* Ø¯Ú©Ù…Ù‡ Ù…ÙˆØ²ÛŒÚ© */
    .music-button {
      position: absolute;
      left: 12px;
      top: 12px;
      width: 56px;
      height: 56px;
      border-radius: 50%;
      overflow: hidden;
      border: 2px solid rgba(255,255,255,0.06);
      background: linear-gradient(135deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 1200;
      transition: box-shadow 0.1s ease;
    }
    .music-button img {
      width: 86%;
      height: 86%;
      object-fit: contain;
      display: block;
    }
    /* Ù…ØªÙ† Ø­Ù‚ÙˆÙ‚ÛŒ */
    .rights-text {
      position: absolute;
      bottom: 8px;
      left: 0;
      right: 0;
      text-align: center;
      font-weight: 800;
      color: #fff;
      font-size: 12px;
      pointer-events: none;
    }
    @media (max-width: 420px) {
      .cart-floating {
        right: 8px;
        left: 8px;
        width: auto;
        padding-left: 82px;
      }
      .music-button {
        left: 8px;
      }
    }
  </style>
</head>
<body>
  <!-- intro GIF overlay -->
  <div id="intro-overlay">
    <div class="gif-container">
      <img id="intro-gif" src="https://www.dash-smal.ir/assets/images/777.gif" alt="Ù„ÙˆÚ¯Ùˆ Ù…ÙˆØ´Ù†">
    </div>
  </div>
  <div id="main-content">
    <div class="header">
      <div class="brand">
        <div class="logo">T</div>
        <div>
          <div style="font-weight:800;font-size:18px">TOUCAN</div>
          <div style="font-size:13px;color:#bbb">Ù…Ù†ÙˆÛŒ Ø¯ÛŒØ¬ÛŒØªØ§Ù„ - Ø³ÙØ§Ø±Ø´ Ø¨Ø§ QR</div>
        </div>
      </div>
    </div>
    <div>
      <div style="margin-bottom:10px">
        <strong>Ù…ÛŒØ²:</strong> <span id="table-number-display">â€”</span>
      </div>
      <div id="food-grid" class="food-grid"></div>
    </div>
    <!-- floating cart -->
    <div id="cart" class="cart-floating" aria-live="polite">
      <button id="music-toggle" class="music-button" title="Ù¾Ø®Ø´/ØªÙˆÙ‚Ù Ù…ÙˆØ³ÛŒÙ‚ÛŒ">
        <img id="music-icon" src="https://www.dash-smal.ir/assets/images/player/play.png" alt="play">
      </button>
      <div style="flex:1">
        <div style="font-weight:800; margin-bottom:6px">ÙØ§Ú©ØªÙˆØ± (<span id="cart-count">0</span>)</div>
        <div class="cart-list" id="cart-list"></div>
        <div style="margin-top:6px;font-weight:800">Ú©Ù„: <span id="cart-total">0</span> ØªÙˆÙ…Ø§Ù†</div>
      </div>
      <div class="cart-actions">
        <button id="send-whatsapp" class="send-btn">Ø§Ø±Ø³Ø§Ù„ Ø³ÙØ§Ø±Ø´ Ø¨Ù‡ ÙˆØ§ØªØ³â€ŒØ§Ù¾</button>
        <button id="clear-cart" class="send-btn" style="background:#eee;color:#000">Ù¾Ø§Ú© Ú©Ø±Ø¯Ù†</button>
      </div>
      <div class="rights-text">All rights reserved by Dash Smal Content Production Agency.</div>
    </div>
    <!-- Ù¾Ù„ÛŒØ± Ù¾Ù†Ù‡Ø§Ù† -->
    <audio id="background-music" src="https://www.dash-smal.ir/assets/music/toucan/toucan.mp3" loop preload="none"></audio>
    <!-- modal -->
    <div id="modal" class="modal" style="display:none;position:fixed;inset:0;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:2000">
      <div class="box" role="dialog" aria-modal="true" style="background:#111;color:#fff;padding:16px;border-radius:10px;max-width:92%;width:420px">
        <h3 style="margin-top:0">Ú†Ù†Ø¯ Ø´Ù…Ø§Ø±Ù‡ Ø¢Ø´Ù¾Ø²Ø®Ø§Ù†Ù‡ Ù¾ÛŒØ¯Ø§ Ø´Ø¯</h3>
        <p style="color:#ccc">Ø³ÙØ§Ø±Ø´ Ø¨Ù‡ Ù‡Ø± Ø´Ù…Ø§Ø±Ù‡ Ø¬Ø¯Ø§Ú¯Ø§Ù†Ù‡ Ø§Ø±Ø³Ø§Ù„ Ø®ÙˆØ§Ù‡Ø¯ Ø´Ø¯. Ø´Ù…Ø§Ø±Ù‡ Ù…ÙˆØ±Ø¯ Ù†Ø¸Ø± Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ù†ÛŒØ¯ ÛŒØ§ Ù‡Ù…Ù‡ Ø±Ø§ Ø¨Ø§ Ù‡Ù… Ø§Ø±Ø³Ø§Ù„ Ú©Ù†ÛŒØ¯.</p>
        <div id="recipient-list" style="display:flex;flex-direction:column;gap:8px;margin-top:12px"></div>
        <div style="display:flex;gap:8px;margin-top:12px;justify-content:flex-start">
          <button id="send-all" class="send-btn">Ø§Ø±Ø³Ø§Ù„ Ù‡Ù…Ù‡</button>
          <button id="close-modal" class="send-btn" style="background:#ddd;color:#000">Ø¨Ø³ØªÙ†</button>
        </div>
      </div>
    </div>
  </div>

  <script>
/* menu.js - client side logic */
(() => {
  // â±ï¸ Ø²Ù…Ø§Ù† Ø´Ø±ÙˆØ¹ ØµÙØ­Ù‡ (Ø¨Ø±Ø§ÛŒ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…Ø¯Øª Ø­Ø¶ÙˆØ±)
  const pageLoadTime = Date.now();

  // ğŸ“¤ Ø§Ø±Ø³Ø§Ù„ Ø³
